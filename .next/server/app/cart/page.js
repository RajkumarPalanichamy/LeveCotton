(()=>{var e={};e.id=565,e.ids=[565],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4082:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>l}),r(6826),r(8520),r(9410);var a=r(3191),s=r(8716),n=r(7922),i=r.n(n),o=r(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6826)),"H:\\TZProject\\LeveCotton\\style\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8520)),"H:\\TZProject\\LeveCotton\\style\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,9410)),"H:\\TZProject\\LeveCotton\\style\\app\\not-found.tsx"]}],d=["H:\\TZProject\\LeveCotton\\style\\app\\cart\\page.tsx"],p="/cart/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2197:(e,t,r)=>{Promise.resolve().then(r.bind(r,8493))},8493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(326),s=r(5458),n=r(4870),i=r(9278),o=r(7246),c=r(2643);let l=(0,r(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var d=r(434);function p(){let{cart:e,updateQuantity:t,removeFromCart:r,clearCart:p}=(0,s.j)(),{products:u}=(0,n.r)(),x=e.map(e=>{let t=u.find(t=>t.id===e.productId);return{...e,product:t}}),m=x.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0);return 0===e.length?(0,a.jsxs)("div",{className:"min-h-screen bg-white page-container",children:[a.jsx(i.Navbar,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[a.jsx("h1",{className:"text-3xl font-serif mb-4",children:"Your cart is empty"}),a.jsx(d.default,{href:"/",children:a.jsx(o.z,{children:"Continue Shopping"})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-white page-container",children:[a.jsx(i.Navbar,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-12",children:[a.jsx("h1",{className:"text-3xl font-serif mb-8",children:"Shopping Cart"}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:x.map(e=>a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6 flex gap-6",children:e.product&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("img",{src:e.product.image||e.image,alt:e.product.name,className:"w-24 h-24 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium mb-2",children:e.product.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Size: ",e.variantId||"M"]}),(0,a.jsxs)("p",{className:"font-serif",children:["₹",e.product.price.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-4",children:[a.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>r(e.productId,e.variantId),children:a.jsx(l,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>t(e.productId,e.variantId,e.quantity-1),children:"-"}),a.jsx("span",{className:"w-8 text-center",children:e.quantity}),a.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>t(e.productId,e.variantId,e.quantity+1),children:"+"})]})]})]})})},`${e.productId}-${e.variantId}`))}),a.jsx(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-serif mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",m.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-serif pt-4 border-t",children:[a.jsx("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",m.toLocaleString("en-IN")]})]})]}),a.jsx("button",{onClick:()=>{let e=`Hi LEVE COTTONS! I want to place an order:

`;x.forEach((t,r)=>{t.product&&(e+=`${r+1}. *${t.product.name}*
   Price: ₹${t.product.price.toLocaleString("en-IN")}
   Quantity: ${t.quantity}
   Subtotal: ₹${(t.product.price*t.quantity).toLocaleString("en-IN")}

`)});let t=encodeURIComponent(e),r=`https://wa.me/919363499905?text=${t}`;p(),window.open(r,"_blank")},className:"w-full",size:"lg",children:"Proceed to Checkout"})]})})]})]})]})}},2643:(e,t,r)=>{"use strict";r.d(t,{Zb:()=>i,aY:()=>o});var a=r(326),s=r(7577),n=r(7863);let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4870:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var a=r(7577);function s(e){let[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),c=async()=>{try{n(!0),o(null);let t=e?`/api/products?filter=${e}`:"/api/products",a=await fetch(t);if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let s=await a.json();console.log("Fetched products:",s),r(s.products||[])}catch(e){console.error("Failed to fetch products:",e),o(e instanceof Error?e.message:"Failed to fetch products")}finally{n(!1)}},l=async e=>{try{if((await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return c(),!0;return!1}catch(e){return console.error("Failed to create product:",e),!1}},d=async(e,t)=>{try{if((await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,...t})})).ok)return c(),!0;return!1}catch(e){return console.error("Failed to update product:",e),!1}},p=async e=>{try{if((await fetch("/api/products",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)return c(),!0;return!1}catch(e){return console.error("Failed to delete product:",e),!1}};return{products:t,loading:s,error:i,fetchProducts:c,createProduct:l,updateProduct:d,deleteProduct:p}}},6826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`H:\TZProject\LeveCotton\style\app\cart\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,146,203,278],()=>r(4082));module.exports=a})();