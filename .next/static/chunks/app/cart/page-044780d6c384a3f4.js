(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{4362:function(e,t,r){Promise.resolve().then(r.bind(r,6282))},6282:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),n=r(8198),s=r(171),c=r(7793),i=r(5021),o=r(6070);let l=(0,r(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var d=r(7648);function u(){let{cart:e,updateQuantity:t,removeFromCart:r,clearCart:u}=(0,n.j)(),{products:p}=(0,s.r)(),f=e.map(e=>{let t=p.find(t=>t.id===e.productId);return{...e,product:t}}),h=f.reduce((e,t)=>{var r;return e+((null===(r=t.product)||void 0===r?void 0:r.price)||0)*t.quantity},0);return 0===e.length?(0,a.jsxs)("div",{className:"min-h-screen bg-white page-container",children:[(0,a.jsx)(c.Navbar,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif mb-4",children:"Your cart is empty"}),(0,a.jsx)(d.default,{href:"/",children:(0,a.jsx)(i.z,{children:"Continue Shopping"})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-white page-container",children:[(0,a.jsx)(c.Navbar,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-12",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif mb-8",children:"Shopping Cart"}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4",children:f.map(e=>(0,a.jsx)(o.Zb,{children:(0,a.jsx)(o.aY,{className:"p-6 flex gap-6",children:e.product&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:e.product.image||e.image,alt:e.product.name,className:"w-24 h-24 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:e.product.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Size: ",e.variantId||"M"]}),(0,a.jsxs)("p",{className:"font-serif",children:["₹",e.product.price.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-4",children:[(0,a.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>r(e.productId,e.variantId),children:(0,a.jsx)(l,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>t(e.productId,e.variantId,e.quantity-1),children:"-"}),(0,a.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>t(e.productId,e.variantId,e.quantity+1),children:"+"})]})]})]})})},"".concat(e.productId,"-").concat(e.variantId)))}),(0,a.jsx)(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-serif mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",h.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-serif pt-4 border-t",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",h.toLocaleString("en-IN")]})]})]}),(0,a.jsx)("button",{onClick:()=>{let e="Hi LEVE COTTONS! I want to place an order:\n\n";f.forEach((t,r)=>{t.product&&(e+="".concat(r+1,". *").concat(t.product.name,"*\n")+"   Price: ₹".concat(t.product.price.toLocaleString("en-IN"),"\n")+"   Quantity: ".concat(t.quantity,"\n")+"   Subtotal: ₹".concat((t.product.price*t.quantity).toLocaleString("en-IN"),"\n\n"))});let t=encodeURIComponent(e);u(),window.open("https://wa.me/919363499905?text=".concat(t),"_blank")},className:"w-full",size:"lg",children:"Proceed to Checkout"})]})})]})]})]})}},6070:function(e,t,r){"use strict";r.d(t,{Zb:function(){return c},aY:function(){return i}});var a=r(7437),n=r(2265),s=r(4508);let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});c.displayName="Card",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})}).displayName="CardHeader",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})}).displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});i.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},171:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});var a=r(2265);function n(e){let[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[c,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{o()},[e]);let o=async()=>{try{s(!0),i(null);let t=await fetch(e?"/api/products?filter=".concat(e):"/api/products");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json();console.log("Fetched products:",a),r(a.products||[])}catch(e){console.error("Failed to fetch products:",e),i(e instanceof Error?e.message:"Failed to fetch products")}finally{s(!1)}},l=async e=>{try{if((await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return o(),!0;return!1}catch(e){return console.error("Failed to create product:",e),!1}},d=async(e,t)=>{try{if((await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,...t})})).ok)return o(),!0;return!1}catch(e){return console.error("Failed to update product:",e),!1}},u=async e=>{try{if((await fetch("/api/products",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)return o(),!0;return!1}catch(e){return console.error("Failed to delete product:",e),!1}};return{products:t,loading:n,error:c,fetchProducts:o,createProduct:l,updateProduct:d,deleteProduct:u}}}},function(e){e.O(0,[972,585,793,971,117,560],function(){return e(e.s=4362)}),_N_E=e.O()}]);