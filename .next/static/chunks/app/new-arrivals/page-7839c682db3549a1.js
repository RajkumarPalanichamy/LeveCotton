(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31],{9390:function(e,s,t){Promise.resolve().then(t.bind(t,911))},911:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(7437),a=t(2265),c=t(2449),l=t(8997),i=t(8198),n=t(3920),o=t(171),d=t(7793),h=t(9890),m=t(7648);function u(){let{products:e,loading:s,error:t}=(0,o.r)("new-arrivals"),{addToCart:u}=(0,i.j)(),{toggleWishlist:x,isInWishlist:p}=(0,n.E)(),[f,g]=(0,a.useState)(!1),[j,N]=(0,a.useState)({colors:[],priceRange:"",fabrics:[]}),[b,v]=(0,a.useState)([]);(0,a.useEffect)(()=>{let s=e;if(j.colors.length>0&&(s=s.filter(e=>j.colors.includes(e.color))),j.fabrics.length>0&&(s=s.filter(e=>j.fabrics.includes(e.fabric))),j.priceRange){let[e,t]=j.priceRange.split("-").map(e=>"+"===e?1/0:parseInt(e));s=s.filter(s=>s.price>=e&&(t===1/0||s.price<=t))}v(s)},[j,e]),console.log("New Arrivals page - Products:",e.length,s,t);let y=e=>{u({productId:e.id,variantId:"default",name:e.name,price:e.price,image:e.image,quantity:1})},w=e=>{x({id:e.id,name:e.name,price:e.price,images:[e.image],category:e.category})};if(s)return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(d.Navbar,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"New Arrivals"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading products..."})]})})]});if(t)return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(d.Navbar,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"New Arrivals"}),(0,r.jsxs)("p",{className:"text-red-600",children:["Error: ",t]})]})})]});let k=b.length>0||j.colors.length>0||j.fabrics.length>0||j.priceRange?b:e;return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(d.Navbar,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"New Arrivals"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Discover our latest collection"})]}),(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsx)(h.j,{showFilters:f,setShowFilters:g,filters:j,setFilters:N,colors:["Red","Blue","Green","Pink","Black","White","Yellow","Purple"],priceRanges:[{label:"Under ₹5,000",value:"0-5000"},{label:"₹5,000 - ₹10,000",value:"5000-10000"},{label:"₹10,000 - ₹20,000",value:"10000-20000"},{label:"Above ₹20,000",value:"20000+"}],fabrics:["Cotton","Silk","Georgette","Rayon"]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(e=>(0,r.jsxs)("div",{className:"group",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[(0,r.jsx)(m.default,{href:"/product/".concat(e.id),children:(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500 cursor-pointer"})}),(0,r.jsxs)("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,r.jsx)("button",{onClick:()=>y(e),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-gray-50 transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5 text-gray-700"})}),(0,r.jsx)("button",{onClick:()=>w(e),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-gray-50 transition-colors",children:(0,r.jsx)(l.Z,{className:"w-5 h-5 ".concat(p(e.id)?"text-red-500 fill-red-500":"text-gray-700")})})]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(m.default,{href:"/product/".concat(e.id),children:(0,r.jsx)("h3",{className:"font-medium text-gray-900 hover:text-gray-700 cursor-pointer mb-2",children:e.name})}),(0,r.jsxs)("p",{className:"text-lg font-serif text-gray-900",children:["₹",e.price.toLocaleString("en-IN")]})]})]},e.id))})})]})]})]})}},9890:function(e,s,t){"use strict";t.d(s,{j:function(){return c}});var r=t(7437);let a=(0,t(9205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),c=e=>{let{showFilters:s,setShowFilters:t,filters:c,setFilters:l,colors:i,priceRanges:n,fabrics:o}=e,d=(e,s)=>{l(t=>({...t,[e]:t[e].includes(s)?t[e].filter(e=>e!==s):[...t[e],s]}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>t(!s),className:"lg:hidden fixed bottom-4 right-4 z-50 bg-black text-white p-3 rounded-full shadow-lg",children:(0,r.jsx)(a,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"".concat(s?"block":"hidden"," lg:block w-64 flex-shrink-0"),children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border sticky top-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Filters"}),(0,r.jsx)("button",{onClick:()=>{l({colors:[],priceRange:"",fabrics:[]})},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear All"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Color"}),(0,r.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:c.colors.includes(e),onChange:()=>d("colors",e),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Price Range"}),(0,r.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"priceRange",checked:c.priceRange===e.value,onChange:()=>l(s=>({...s,priceRange:e.value})),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Fabric"}),(0,r.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:c.fabrics.includes(e),onChange:()=>d("fabrics",e),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},e))})]})]})})]})}},171:function(e,s,t){"use strict";t.d(s,{r:function(){return a}});var r=t(2265);function a(e){let[s,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{n()},[e]);let n=async()=>{try{c(!0),i(null);let s=await fetch(e?"/api/products?filter=".concat(e):"/api/products");if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let r=await s.json();console.log("Fetched products:",r),t(r.products||[])}catch(e){console.error("Failed to fetch products:",e),i(e instanceof Error?e.message:"Failed to fetch products")}finally{c(!1)}},o=async e=>{try{if((await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return n(),!0;return!1}catch(e){return console.error("Failed to create product:",e),!1}},d=async(e,s)=>{try{if((await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,...s})})).ok)return n(),!0;return!1}catch(e){return console.error("Failed to update product:",e),!1}},h=async e=>{try{if((await fetch("/api/products",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)return n(),!0;return!1}catch(e){return console.error("Failed to delete product:",e),!1}};return{products:s,loading:a,error:l,fetchProducts:n,createProduct:o,updateProduct:d,deleteProduct:h}}}},function(e){e.O(0,[972,585,793,971,117,560],function(){return e(e.s=9390)}),_N_E=e.O()}]);